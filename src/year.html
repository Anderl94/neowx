<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="index,follow">

    <meta property="og:site_name" content="$station.location | Weather">
    <meta property="og:title" content="$station.location | Weather">
    <meta property="og:description" content="$Extras.description">
    <meta name="description" content="$Extras.description">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700,900" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="weather-icons/css/weather-icons.min.css" type="text/css">
    <link rel="stylesheet" href="weather-icons/css/weather-icons-wind.min.css" type="text/css">
    <link rel="stylesheet" href="style.css" type="text/css">

    <title>Year | $station.location | Weather</title>

    <!-- Webapp capability -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href="manifest.json">

    <!-- Favicons -->
    <link rel="icon" href="img/favicon.png" type="image/png">
    <link rel="apple-touch-icon" href="img/touch-icon-ipad.png">
    <link rel="apple-touch-icon" sizes="152x152" href="img/touch-icon-ipad.png">
    <link rel="apple-touch-icon" sizes="180x180" href="img/touch-icon-iphone-retina.png">
</head>
<body>

<!-- Content -->
<header>
    <div class="container">
        <div class="title">
            <h2>$station.location</h2>
            <h3>$current.dateTime</h3>
        </div>

        #if $almanac.hasExtras
        ## Extended almanac information is available. Do the full set of tables.
        #set $sun_altitude = $almanac.sun.alt
        #if $sun_altitude < 0
        #set $sun_None="(Always down)"
        #else
        #set $sun_None="(Always up)"
        #end if
        <table class="unstyled almanac">
            <tr>
                <td><i class="wi wi-sunrise"></i></td>
                <td>$almanac.sun.rise.string($sun_None)</td>
                <td><i class="wi wi-moonrise"></i></td>
                <td>$almanac.moon.rise</td>
            </tr>
            <tr>
                <td><i class="wi wi-sunset"></i></td>
                <td>$almanac.sun.set.string($sun_None)</td>
                <td><i class="wi wi-moonset"></i></td>
                <td>$almanac.moon.set</td>
            </tr>
            <tr>
                <td></td>
                <td><a data-fancybox data-src="#almanac" href="javascript:;" class="btn" role="button">more</a></td>
                <td>
                    #if $almanac.moon_phase == "New"
                    <i class="wi wi-moon-new"></i>
                    #else if $almanac.moon_phase == "Waxing crescent"
                    <i class="wi wi-moon-waxing-crescent-4"></i>
                    #else if $almanac.moon_phase == "First quarter"
                    <i class="wi wi-moon-first-quarter"></i>
                    #else if $almanac.moon_phase == "Waxing gibbous"
                    <i class="wi wi-moon-waxing-gibbous-4"></i>
                    #else if $almanac.moon_phase == "Full"
                    <i class="wi wi-moon-full"></i>
                    #else if $almanac.moon_phase == "Waning gibbous"
                    <i class="wi wi-moon-waning-gibbous-4"></i>
                    #else if $almanac.moon_phase == "Last quarter"
                    <i class="wi wi-moon-third-quarter"></i>
                    #else if $almanac.moon_phase == "Waning crescent"
                    <i class="wi wi-moon-waning-crescent-4"></i>
                    #else
                    <i class="wi wi-moon-waning-crescent-3"></i>
                    #end if
                </td>
                <td>$almanac.moon_fullness% full</td>
            </tr>
        </table>
        #else
        ## No extended almanac information available. Fall back to a simple table.
        <table class="unstyled almanac">
            <tr>
                <td><i class="wi wi-sunrise"></i></td>
                <td>$almanac.sunrise</td>
                <td><i class="wi wi-sunset"></i></td>
                <td>$almanac.sunset</td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td>
                    #if $almanac.moon_phase == "New"
                    <i class="wi wi-moon-new"></i>
                    #else if $almanac.moon_phase == "Waxing crescent"
                    <i class="wi wi-moon-waxing-crescent-4"></i>
                    #else if $almanac.moon_phase == "First quarter"
                    <i class="wi wi-moon-first-quarter"></i>
                    #else if $almanac.moon_phase == "Waxing gibbous"
                    <i class="wi wi-moon-waxing-gibbous-4"></i>
                    #else if $almanac.moon_phase == "Full"
                    <i class="wi wi-moon-full"></i>
                    #else if $almanac.moon_phase == "Waning gibbous"
                    <i class="wi wi-moon-waning-gibbous-4"></i>
                    #else if $almanac.moon_phase == "Last quarter"
                    <i class="wi wi-moon-third-quarter"></i>
                    #else if $almanac.moon_phase == "Waning crescent"
                    <i class="wi wi-moon-waning-crescent-4"></i>
                    #else
                    <i class="wi wi-moon-waning-crescent-3"></i>
                    #end if
                </td>
                <td>$almanac.moon_fullness% full</td>
            </tr>
        </table>
        #end if

    </div>

    <nav>
        <div class="container">
            <ul>
                <li><a href="index.html">Current</a></li>
                <li><a href="week.html">Week</a></li>
                <li><a href="month.html">Month</a></li>
                <li class="active"><a href="year.html">Year</a></li>
                <li><a href="archive.html">Archive</a></li>
                <li><a href="maps.html">Maps</a></li>
            </ul>
        </div>
    </nav>
</header>

<main>
    <div class="container">

        <!-- Main data -->
        <div class="row gutters row-gutters">
            <div class="col col-9">

                <div class="row gutters row-gutters">
                    <div class="col col-4 crd">

                        <h4><i class="wi wi-thermometer"></i> Outside Temperature</h4>

                        <div class="crd-content">
                            <table class="meta">
                                <tr>
                                    <td>Hi:</td>
                                    <td>$year.outTemp.max</td>
                                    <td>($year.outTemp.maxtime)</td>
                                </tr>
                                <tr>
                                    <td>Lo:</td>
                                    <td>$year.outTemp.min</td>
                                    <td>($year.outTemp.mintime)</td>
                                </tr>
                            </table>
                        </div>

                    </div>
                    <div class="col col-4 crd">

                        <h4><i class="wi wi-humidity"></i> Outside Humidity</h4>
                        <div class="crd-content">
                            <table class="meta">
                                <tr>
                                    <td>Hi:</td>
                                    <td>$year.outHumidity.max</td>
                                    <td>($year.outHumidity.maxtime)</td>
                                </tr>
                                <tr>
                                    <td>Lo:</td>
                                    <td>$year.outHumidity.min</td>
                                    <td>($year.outHumidity.mintime)</td>
                                </tr>
                            </table>
                        </div>

                    </div>
                    <div class="col col-4 crd">

                        <h4><i class="wi wi-barometer"></i> Barometer</h4>
                        <div class="crd-content">
                            <table class="meta">
                                <tr>
                                    <td>Hi:</td>
                                    <td>$year.barometer.max</td>
                                    <td>($year.barometer.maxtime)</td>
                                </tr>
                                <tr>
                                    <td>Lo:</td>
                                    <td>$year.barometer.min</td>
                                    <td>($year.barometer.mintime)</td>
                                </tr>
                                <tr>
                                    <td>Trend ($trend.time_delta.hour.format("%.0f")):</td>
                                    <td>$trend.barometer</td>
                                    <td></td>
                                </tr>
                            </table>
                        </div>

                    </div>
                </div>

                <div class="row gutters row-gutters">
                    <div class="col col-4 crd">

                        <h4><i class="wi wi-umbrella"></i> Rain</h4>
                        <div class="crd-content">
                            <table class="meta">
                                <tr>
                                    <td>Total Rain:</td>
                                    <td>$year.rain.sum</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Hi Rain Rate:</td>
                                    <td>$year.rainRate.max</td>
                                    <td>($year.rainRate.maxtime)</td>
                                </tr>
                            </table>
                        </div>

                    </div>
                    <div class="col col-4 crd">

                        <h4><i class="wi wi-thermometer"></i> Inside Temperature</h4>
                        <div class="crd-content">
                            <table class="meta">
                                <tr>
                                    <td>Hi:</td>
                                    <td>$year.inTemp.max</td>
                                    <td>($year.inTemp.maxtime)</td>
                                </tr>
                                <tr>
                                    <td>Lo:</td>
                                    <td>$year.inTemp.min</td>
                                    <td>($year.inTemp.mintime)</td>
                                </tr>
                            </table>
                        </div>

                    </div>
                    <div class="col col-4 crd">

                        <h4><i class="wi wi-humidity"></i> Inside Humidity</h4>
                        <div class="crd-content">
                            <table class="meta">
                                <tr>
                                    <td>Hi:</td>
                                    <td>$year.inHumidity.max</td>
                                    <td>($year.inHumidity.maxtime)</td>
                                </tr>
                                <tr>
                                    <td>Lo:</td>
                                    <td>$year.inHumidity.min</td>
                                    <td>($year.inHumidity.mintime)</td>
                                </tr>
                            </table>
                        </div>

                    </div>
                </div>

            </div>
            <div class="col col-3 crd">

                <h4><i class="wi wi-strong-wind"></i> Wind</h4>
                <div class="crd-content">
                    <table class="meta">
                        <tr>
                            <td>Avg:</td>
                            <td>$year.wind.avg</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>Hi:</td>
                            <td>$year.wind.max<br> $year.wind.gustdir <i class="wi wi-wind from-$year.wind.gustdir.raw-deg"></i></td>
                            <td>($year.wind.maxtime)</td>
                        </tr>
                        <tr>
                            <td>RMS:</td>
                            <td>$year.wind.rms</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>Vector Avg:</td>
                            <td>$year.wind.vecavg<br> $year.wind.vecdir <i class="wi wi-wind from-$year.wind.vecdir.raw-deg"></i></td>
                            <td></td>
                        </tr>
                    </table>
                </div>

            </div>
        </div>

        <div class="row gutters row-gutters">
            <div class="col col-3 crd">

                <h4><i class="wi wi-windy"></i> Wind Chill</h4>
                <div class="crd-content">
                    <table class="meta">
                        <tr>
                            <td>Lo:</td>
                            <td>$year.windchill.min</td>
                            <td>($year.windchill.mintime)</td>
                        </tr>
                    </table>
                </div>

            </div>
            <div class="col col-3 crd">

                <h4><i class="wi wi-thermometer-exterior"></i> Dewpoint</h4>
                <div class="crd-content">
                    <table class="meta">
                        <tr>
                            <td>Hi:</td>
                            <td>$year.dewpoint.max</td>
                            <td>($year.dewpoint.maxtime)</td>
                        </tr>
                        <tr>
                            <td>Lo:</td>
                            <td>$year.dewpoint.min</td>
                            <td>($year.dewpoint.mintime)</td>
                        </tr>
                    </table>
                </div>

            </div>
            <div class="col col-3 crd">

                <h4><i class="wi wi-fire"></i> Heat Index</h4>
                <div class="crd-content">
                    <table class="meta">
                        <tr>
                            <td>Hi:</td>
                            <td>$year.heatindex.max</td>
                            <td>($year.heatindex.maxtime)</td>
                        </tr>
                    </table>
                </div>

            </div>
            <div class="col col-3">
                #if $year.UV.has_data
                <h4><i class="wi wi-fire"></i> UV Index</h4>
                <div class="crd-content">
                    <table class="meta">
                        <tr>
                            <td>Hi:</td>
                            <td>$year.UV.max</td>
                            <td>($year.UV.maxtime)</td>
                        </tr>
                        <tr>
                            <td>Lo:</td>
                            <td>$year.UV.min</td>
                            <td>($year.UV.mintime)</td>
                        </tr>
                    </table>
                </div>
                #end if
            </div>
        </div>

        <!-- GRAPHS -->

        <div class="row gutters row-gutters">
            <div class="col col-6 crd graph-crd">
                <h4>Temperatures</h4>
                <a data-fancybox="gallery" href="yeartempdew.png"><img src="yeartempdew.png"></a>
            </div>
            <div class="col col-6 crd graph-crd">
                <h4>Wind Chill & Heat Index</h4>
                <a data-fancybox="gallery" href="yeartempchill.png"><img src="yeartempchill.png"></a>
            </div>
        </div>

        <div class="row gutters row-gutters">
            <div class="col col-6 crd graph-crd">
                <h4>Barometer</h4>
                <a data-fancybox="gallery" href="yearbarometer.png"><img src="yearbarometer.png"></a>
            </div>
            <div class="col col-6 crd graph-crd">
                <h4>Rain</h4>
                <a data-fancybox="gallery" href="yearrain.png"><img src="yearrain.png"></a>
            </div>
        </div>

        <div class="row gutters row-gutters">
            <div class="col col-6 crd graph-crd">
                <h4>Wind</h4>
                <a data-fancybox="gallery" href="yearwind.png"><img src="yearwind.png"></a>
            </div>
            <div class="col col-6 crd graph-crd">
                <h4>Wind Direction</h4>
                <a data-fancybox="gallery" href="yearwinddir.png"><img src="yearwinddir.png"></a>
            </div>
        </div>

        <div class="row gutters row-gutters">
            <div class="col col-6 crd graph-crd">
                <h4>Wind Vector</h4>
                <a data-fancybox="gallery" href="yearwindvec.png"><img src="yearwindvec.png"></a>
            </div>
            <div class="col col-6 crd graph-crd">
                <h4>Inside Temperature</h4>
                <a data-fancybox="gallery" href="yearinside.png"><img src="yearinside.png"></a>
            </div>
        </div>

        #if $year.radiation.has_data or $year.UV.has_data
        <div class="row gutters row-gutters">
            #if $year.radiation.has_data
            <div class="col col-6 crd graph-crd">
                <h4>Radiation</h4>
                <a data-fancybox="gallery" href="yearradiation.png"><img src="yearradiation.png"></a>
            </div>
            #end if
            #if $year.UV.has_data
            <div class="col col-6 crd graph-crd">
                <h4>UV Index</h4>
                <a data-fancybox="gallery" href="yearuv.png"><img src="yearuv.png"></a>
            </div>
            #end if
        </div>
        #end if

        #if $year.rxCheckPercent.has_data or $year.UV.has_data
        <div class="row gutters row-gutters">
            #if $year.rxCheckPercent.has_data
            <div class="col col-6 crd graph-crd">
                <h4>Signal Quality</h4>
                <a data-fancybox="gallery" href="yearrx.png"><img src="yearrx.png"></a>
            </div>
            #end if
            #if $year.extraTemp1.has_data
            <div class="col col-6 crd graph-crd">
                <h4>Pond Temperatures</h4>
                <a data-fancybox="gallery" href="yearpond.png"><img src="yearpond.png"></a>
            </div>
            #end if
        </div>
        #end if

    </div>
</main>

<footer>
    <div class="container">
        <p>
            &copy; $current.dateTime.format("%Y")
            #if $Extras.has_key('you')
            $Extras.you
            #end if
            &bull; Powered by <a href="http://weewx.com" target="_blank">weewx</a> v$station.version
            &bull; NeoWX by <a href="https://neoground.com" target="_blank">Neoground</a>
            &bull; Station: $station.hardware
        </p>
    </div>
</footer>

#if $almanac.hasExtras
<!-- ALMANAC -->
<div style="display: none;" id="almanac" class="modal-crd">
    <h2><i class="wi wi-horizon"></i> Almanac</h2>
    <div class="crd-content">
        <div class="row gutters">
            <div class="col-6">
                <h2>Sun</h2>
                <table>
                    <tr><td>Start civil twilight:</td><td>$almanac(horizon=-6).sun(use_center=1).rise</td></tr>
                    <tr><td>Sunrise</td><td>$almanac.sun.rise.string($sun_None)</td></tr>
                    <tr><td>Transit:</td><td>$almanac.sun.transit</td></tr>
                    <tr><td>Sunset:</td><td>$almanac.sun.set.string($sun_None)</td></tr>
                    <tr><td>End civil twilight:</td><td>$almanac(horizon=-6).sun(use_center=1).set</td></tr>
                    <tr><td>Azimuth:</td><td>$("%.1f&deg;" % $almanac.sun.az)</td></tr>
                    <tr><td>Altitude:</td><td>$("%.1f&deg;" % $sun_altitude)</td></tr>
                    <tr><td>Right ascension:</td><td>$("%.1f&deg;" % $almanac.sun.ra)</td></tr>
                    <tr><td>Declination:</td><td>$("%.1f&deg;" % $almanac.sun.dec)</td></tr>
                    #if $almanac.next_equinox.raw < $almanac.next_solstice.raw
                    ## The equinox is before the solstice. Display them in order.
                    <tr><td>Equinox:</td><td>$almanac.next_equinox</td></tr>
                    <tr><td>Solstice:</td><td>$almanac.next_solstice</td></tr>
                    #else
                    ## The solstice is before the equinox. Display them in order.
                    <tr><td>Solstice:</td><td>$almanac.next_solstice</td></tr>
                    <tr><td>Equinox:</td><td>$almanac.next_equinox</td></tr>
                    #end if
                </table>
            </div>
            <div class="col-6">
                <h2>Moon</h2>
                <table>
                    <tr><td>Rise:</td><td>$almanac.moon.rise</td></tr>
                    <tr><td>Transit:</td><td>$almanac.moon.transit</td></tr>
                    <tr><td>Set:</td><td>$almanac.moon.set</td></tr>
                    <tr><td>Azimuth:</td><td>$("%.1f&deg;" % $almanac.moon.az)</td></tr>
                    <tr><td>Altitude:</td><td>$("%.1f&deg;" % $almanac.moon.alt)</td></tr>
                    <tr><td>Right ascension:</td><td>$("%.1f&deg;" % $almanac.moon.ra)</td></tr>
                    <tr><td>Declination:</td><td>$("%.1f&deg;" % $almanac.moon.dec)</td></tr>
                    #if $almanac.next_full_moon.raw < $almanac.next_new_moon.raw
                    <tr><td>Full moon:</td><td>$almanac.next_full_moon</td></tr>
                    <tr><td>New moon:</td><td>$almanac.next_new_moon</td></tr>
                    #else
                    <tr><td>New moon:</td><td>$almanac.next_new_moon</td></tr>
                    <tr><td>Full moon:</td><td>$almanac.next_full_moon</td></tr>
                    #end if
                    <tr><td>Phase:</td><td>$almanac.moon_phase<br />($almanac.moon_fullness% full)</td></tr>
                </table>
            </div>
        </div>
    </div>
</div>
#end if

<div style="display: none;">
    <div id="data_loading"><i class="loading wi wi-thermometer"></i></div>
</div>

<!-- Javascript. jQuery etc. (see gulpfile) included in main.min.js -->
<script src="main.min.js"></script>
</body>
</html>